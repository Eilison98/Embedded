# TCP/IP 공부정리

<br/>

## 네트워크 프로그래밍에서 연결요청을 허용하는 소켓의 생성과정
- Socket()   : 전화기 구매
- bind()     : 전화번호 부여
- listen()   : 개통
- accept()   : 연결
- read/write : 통화

<br/>

## 내가 보고 정리하기 위한 내용

- 서로간의 통신중 의미 -> 약속 = 프로토콜

- TCP
  - 내가 B에게 P라는 패킷을 날렸는데 B가 잘받았는지 확인받는 절차가 TCP? B가 잘받았다고 응답을 줘야함
  - 어떤 패킷을 주고받을때 잘받았는지 안받았는지 검증하는 절차가 있는게 TCP통신이다.
  - 불필요한 패킷이 조금 있을수 있고 속도가 조금 느리다.
  - 안정성이 확보됨 < 파일을 다운받을떄 많이 쓰는것 같다. >
- UDP
  -  안전성이 확보되어 있지않음
  -  전달한 패킷이 잘도착하였는지 확인하는 절차가 없다
  -  속도가 빠르다. <게임, 실시간 스트리밍이 많이 쓰는것 같다.>

<br/>

- 소켓
  - 추상화 개념?
  - A와 B의 소켓의 운영체제와 하드웨어는 다르지만 소켓으로 통신을한다

<br/>

- 소켓의 2종류
  - 서버 소켓은 1개  / 리슨, 컨넥션
  - 클라이언트 소켓은 클라이언트 1명당 생성  / 패킷을 주고받음

<br/>

- 서버 / 클라이언트 소켓
  - 서버( server )에서 소켓을 만들때
    - 소켓만들기 ( 함수호출 ) ( 빈 소켓임 )
      - bind( IP, PORT, 프로토콜 ) 과정
        - Listen ( 고객을 기다리는 ) 과정  /  클라이언트단에서 접속시도
          - accept ( 클라이언트 고객을 허용하는 ) 과정
            - send / recv ( 클라이언트와 보내고 주고 받는 과정을 가짐 )
  - 클라이언트에서 소켓을 만들때
    - 소켓만들기
      - ( IP, PORT, 포로토콜 )
        - connect -> Listen 과정이 일어남 / 서버로 접속시도
          - send / recv ( 와 보내고 주고 받는 과정을 가짐 )

<br/>

- af : 네트워크 주소 체계
  - #define AF_INET 2       //  IPv4
  - #define AF_INET6        //  IPv6
- type : 소켓 타입
  - #define SOCK_STREAM 1   //       스트림, TCP 프로토콜의 전송 방식
  - #define SOCK_DGRAM  2   //  데이터 그램, UDP 프로토콜의 전송 방식
  - #define SOCK_RAW    3   //  RAW 소켓, 가공하지 않는 소켓
- protocol : 프로토콜
  - #define IPPROTO_TCP 6   //  TCP 프로토콜
  - #define IPPROTO_UDP 17  //  UDP 프로토콜
  - #define IPPROTO_RAW 255 //  RAW

<br/>
